import { useState } from "react";
import { jsPDF } from "jspdf";

const questions = [
  {
    question: "рдорд╛рдирд╡ рд╢рд░реАрд░ рдореЗрдВ рдХреБрд▓ рдХрд┐рддрдиреА рд╣рдбреНрдбрд┐рдпрд╛рдБ рд╣реЛрддреА рд╣реИрдВ?",
    options: ["200", "206", "210", "196"],
    correct: "206",
  },
  {
    question: "рдирд╡рдЬрд╛рдд рд╢рд┐рд╢реБ рдореЗрдВ рд▓рдЧрднрдЧ рдХрд┐рддрдиреА рд╣рдбреНрдбрд┐рдпрд╛рдБ рд╣реЛрддреА рд╣реИрдВ?",
    options: ["206", "250", "270", "300"],
    correct: "300",
  },
  {
    question: "рдорд╛рдирд╡ рд╢рд░реАрд░ рдХреА рд╕рдмрд╕реЗ рд▓рдВрдмреА рд╣рдбреНрдбреА рдХреМрди-рд╕реА рд╣реИ?",
    options: ["рд╣реНрдпреВрдорд░рд╕", "рдЯрд┐рдмрд┐рдпрд╛", "рдлреАрдорд░", "рд░реЗрдбрд┐рдпрд╕"],
    correct: "рдлреАрдорд░",
  },
  {
    question: "рдорд╛рдирд╡ рд╢рд░реАрд░ рдХреА рд╕рдмрд╕реЗ рдЫреЛрдЯреА рд╣рдбреНрдбреА рдХреМрди-рд╕реА рд╣реИ?",
    options: ["рд╕реНрдЯреЗрдкреНрд╕", "рдлрд┐рдмреБрд▓рд╛", "рдкрдЯреЗрд▓рд╛", "рдЕрд▓реНрдирд╛"],
    correct: "рд╕реНрдЯреЗрдкреНрд╕",
  },
  {
    question: "рдЦреЛрдкрдбрд╝реА (Skull) рдореЗрдВ рдХреБрд▓ рдХрд┐рддрдиреА рд╣рдбреНрдбрд┐рдпрд╛рдБ рд╣реЛрддреА рд╣реИрдВ?",
    options: ["20", "22", "24", "26"],
    correct: "22",
  },
  {
    question: "рд░реАрдврд╝ рдХреА рд╣рдбреНрдбреА рдореЗрдВ рдХреБрд▓ рдХрд┐рддрдиреА рдХрд╢реЗрд░реБрдХрд╛рдПрдБ (Vertebrae) рд╣реЛрддреА рд╣реИрдВ?",
    options: ["30", "31", "32", "33"],
    correct: "33",
  },
  {
    question: "рдкрд╕рд▓рд┐рдпреЛрдВ (Ribs) рдХреЗ рдХрд┐рддрдиреЗ рдЬреЛрдбрд╝реЗ рд╣реЛрддреЗ рд╣реИрдВ?",
    options: ["10", "11", "12", "13"],
    correct: "12",
  },
  {
    question: "рдХрдВрдХрд╛рд▓ рддрдВрддреНрд░ рдХрд╛ рдореБрдЦреНрдп рдХрд╛рд░реНрдп рдХреНрдпрд╛ рд╣реИ?",
    options: ["рдкрд╛рдЪрди", "рд░рдХреНрдд рд╕рдВрдЪрд╛рд░", "рд╣рд╛рд░реНрдореЛрди рдмрдирд╛рдирд╛", "рд╢рд░реАрд░ рдХреЛ рд╕рд╣рд╛рд░рд╛ рджреЗрдирд╛"],
    correct: "рд╢рд░реАрд░ рдХреЛ рд╕рд╣рд╛рд░рд╛ рджреЗрдирд╛",
  },
  {
    question: "рд░рдХреНрдд рдХреЛрд╢рд┐рдХрд╛рдУрдВ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд╣рд╛рдБ рд╣реЛрддрд╛ рд╣реИ?",
    options: ["рдЕрд╕реНрдерд┐ рдордЬреНрдЬрд╛ (Bone Marrow)", "рд╣реГрджрдп", "рдлреЗрдлрдбрд╝реЗ", "рдпрдХреГрдд"],
    correct: "рдЕрд╕реНрдерд┐ рдордЬреНрдЬрд╛ (Bone Marrow)",
  },
  {
    question: "рдХрдВрдзреЗ рдХреА рд╣рдбреНрдбреА рдХреЛ рдХреНрдпрд╛ рдХрд╣рддреЗ рд╣реИрдВ?",
    options: ["рдХреНрд▓реЗрд╡рд┐рдХрд▓", "рд╕реНрдХреИрдкреБрд▓рд╛", "рд╣реНрдпреВрдорд░рд╕", "рд░реЗрдбрд┐рдпрд╕"],
    correct: "рд╕реНрдХреИрдкреБрд▓рд╛",
  },
   {
    question: "рдХреЙрд▓рд░ рдмреЛрди (Collar Bone) рдХрд╛ рд╡реИрдЬреНрдЮрд╛рдирд┐рдХ рдирд╛рдо рдХреНрдпрд╛ рд╣реИ?",
    options: ["рд╕реНрдХреИрдкреБрд▓рд╛", "рд╣реНрдпреВрдорд░рд╕", "рдлрд┐рдмреБрд▓рд╛", "рдХреНрд▓реЗрд╡рд┐рдХрд▓"],
    correct: "рдХреНрд▓реЗрд╡рд┐рдХрд▓",
  },
  {
    question: "рдЬрд╛рдВрдШ рдХреА рд╣рдбреНрдбреА рдХрд╛ рдирд╛рдо рд╣реИ:",
    options: ["рдЯрд┐рдмрд┐рдпрд╛", "рдлрд┐рдмреБрд▓рд╛", "рдлреАрдорд░", "рдкрдЯреЗрд▓рд╛"],
    correct: "рдлреАрдорд░",
  },
  {
    question: "рдШреБрдЯрдиреЗ рдХреА рд╣рдбреНрдбреА рдХреЛ рдХреНрдпрд╛ рдХрд╣рддреЗ рд╣реИрдВ?",
    options: ["рдкрдЯреЗрд▓рд╛", "рдлрд┐рдмреБрд▓рд╛", "рд░реЗрдбрд┐рдпрд╕", "рдЕрд▓реНрдирд╛"],
    correct: "рдлреАрдорд░",
  },
  {
    question: "рд╣рд╛рде рдореЗрдВ рдХреБрд▓ рдХрд┐рддрдиреА рд╣рдбреНрдбрд┐рдпрд╛рдБ рд╣реЛрддреА рд╣реИрдВ?",
    options: ["24", "25", "26", "27"],
    correct: "27",
  },
  {
    question: "рдкреИрд░ рдореЗрдВ рдХреБрд▓ рдХрд┐рддрдиреА рд╣рдбреНрдбрд┐рдпрд╛рдБ рд╣реЛрддреА рд╣реИрдВ?",
    options: ["24", "25", "26", "27"],
    correct: "26",
  },
  {
    question: "рд░реАрдврд╝ рдХреА рд╣рдбреНрдбреА рдХрд╛ рдХреМрди-рд╕рд╛ рднрд╛рдЧ рдЧрд░реНрджрди рдореЗрдВ рд╣реЛрддрд╛ рд╣реИ?",
    options: ["рд╕рд░реНрд╡рд╛рдЗрдХрд▓", "рдереЛрд░реИрд╕рд┐рдХ", "рд▓рдореНрдмрд░", "рд╕реИрдХреНрд░рд▓"],
    correct: "рд╕рд░реНрд╡рд╛рдЗрдХрд▓",
  },
  {
    question: "рдЕрд╕реНрдерд┐ (Bone) рдХрд╛ рдкреНрд░рдореБрдЦ рддрддреНрд╡ рдХреНрдпрд╛ рд╣реИ?",
    options: ["рдЖрдпрд░рди", "рдХреИрд▓реНрд╢рд┐рдпрдо", "рд╕реЛрдбрд┐рдпрдо", "рдкреЛрдЯреИрд╢рд┐рдпрдо"],
    correct: "рдХреИрд▓реНрд╢рд┐рдпрдо",
  },
  {
    question: "рдЦреЛрдкрдбрд╝реА рдХреА рд╣рдбреНрдбрд┐рдпрд╛рдБ рдЖрдкрд╕ рдореЗрдВ рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рдЬреБрдбрд╝реА рд╣реЛрддреА рд╣реИрдВ?",
    options: ["рдЪрд▓ рдЬреЛрдбрд╝", "рдЕрдЪрд▓ рдЬреЛрдбрд╝", "рдЧреЗрдВрдж-рд╕реЙрдХреЗрдЯ рдЬреЛрдбрд╝", "рдХреБрдВрдбрд╛ рдЬреЛрдбрд╝"],
    correct: "рдЕрдЪрд▓ рдЬреЛрдбрд╝",
  },
  {
    question: "рдХрдВрдзреЗ рдХрд╛ рдЬреЛрдбрд╝ рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рдХрд╛ рд╣реЛрддрд╛ рд╣реИ?",
    options: ["рдХреБрдВрдбрд╛ рдЬреЛрдбрд╝", "рд╕реНрдерд┐рд░ рдЬреЛрдбрд╝", "рдЧреЗрдВрдж-рд╕реЙрдХреЗрдЯ рдЬреЛрдбрд╝", "рдЧреНрд▓рд╛рдЗрдбрд┐рдВрдЧ рдЬреЛрдбрд╝"],
    correct: "рдЧреЗрдВрдж-рд╕реЙрдХреЗрдЯ рдЬреЛрдбрд╝",
  },
  {
    question: "рдХреЛрд╣рдиреА рдХрд╛ рдЬреЛрдбрд╝ рдХрд┐рд╕ рдкреНрд░рдХрд╛рд░ рдХрд╛ рд╣реИ?",
    options: ["рдХреБрдВрдбрд╛ рдЬреЛрдбрд╝", "рдЪрд▓ рдЬреЛрдбрд╝", "рдЧреНрд▓рд╛рдЗрдбрд┐рдВрдЧ рдЬреЛрдбрд╝", "рдЧреЗрдВрдж-рд╕реЙрдХреЗрдЯ рдЬреЛрдбрд╝"],
    correct: "рдХреБрдВрдбрд╛ рдЬреЛрдбрд╝",
  },
   {
    question: "рдорд╛рдирд╡ рд╢рд░реАрд░ рдХрд╛ рдЕрдХреНрд╖реАрдп рдХрдВрдХрд╛рд▓ (Axial Skeleton) рдХрд┐рдирд╕реЗ рдорд┐рд▓рдХрд░ рдмрдирддрд╛ рд╣реИ?",
    options: ["рд╣рд╛рде-рдкреИрд░", "рдЦреЛрдкрдбрд╝реА, рд░реАрдврд╝, рдкрд╕рд▓рд┐рдпрд╛рдБ", "рдХреЗрд╡рд▓ рдЦреЛрдкрдбрд╝реА", "рдХреЗрд╡рд▓ рд░реАрдврд╝"],
    correct: "рдЦреЛрдкрдбрд╝реА, рд░реАрдврд╝, рдкрд╕рд▓рд┐рдпрд╛рдБ",
  },
  {
    question: "рдЕрдкреЗрдВрдбрд┐рдХреБрд▓рд░ рдХрдВрдХрд╛рд▓ (Appendicular Skeleton) рдореЗрдВ рдХреНрдпрд╛ рд╢рд╛рдорд┐рд▓ рд╣реИ?",
    options: ["рд╣рд╛рде-рдкреИрд░", "рд░реАрдврд╝", "рдкрд╕рд▓рд┐рдпрд╛рдБ", "рдЦреЛрдкрдбрд╝реА"],
    correct: "рд╣рд╛рде-рдкреИрд░",
  },
  {
    question: "рдХреБрд▓ рдХрд┐рддрдиреА рд╕рд░реНрд╡рд╛рдЗрдХрд▓ рдХрд╢реЗрд░реБрдХрд╛рдПрдБ рд╣реЛрддреА рд╣реИрдВ?",
    options: ["5", "7", "10", "12"],
    correct: "7",
  },
  {
    question: "рдереЛрд░реИрд╕рд┐рдХ рдХрд╢реЗрд░реБрдХрд╛рдПрдБ рдХрд┐рддрдиреА рд╣реЛрддреА рд╣реИрдВ?",
    options: ["10", "11", "12", "13"],
    correct: "12",
  },
  {
    question: "рд▓рдореНрдмрд░ рдХрд╢реЗрд░реБрдХрд╛рдПрдБ рдХрд┐рддрдиреА рд╣реЛрддреА рд╣реИрдВ?",
    options: ["3", "4", "5", "6"],
    correct: "5",
  },
  {
    question: "рд▓рд╛рд▓ рдЕрд╕реНрдерд┐ рдордЬреНрдЬрд╛ рдХреНрдпрд╛ рдмрдирд╛рддреА рд╣реИ?",
    options: ["Plasma", "Plates", "WBC", "RBC"],
    correct: "RBC",
  },
  {
    question: "рд╕реНрдЯреЗрдкреНрд╕ рдХрд┐рд╕ рдЕрдВрдЧ рдореЗрдВ рд╣реЛрддреА рд╣реИ?",
    options: ["рдХрд╛рди", "рднреБрдЬрд╛", "рдкреИрд░", "рдЫрд╛рддреА"],
    correct: "рдХрд╛рди",
  },
  {
    question: "рдЯрд┐рдмрд┐рдпрд╛ рдХрд┐рд╕ рдЕрдВрдЧ рдореЗрдВ рд╣реЛрддреА рд╣реИ?",
    options: ["рдХрд╛рди", "рднреБрдЬрд╛", "рдкреИрд░", "рдЫрд╛рддреА"],
    correct: "рдкреИрд░",
  },
  {
    question: "рдлрд┐рдмреБрд▓рд╛ рдХрд┐рд╕ рдЕрдВрдЧ рдореЗрдВ рд╣реЛрддреА рд╣реИ?",
    options: ["рдХрд╛рди", "рднреБрдЬрд╛", "рдкреИрд░", "рдЫрд╛рддреА"],
    correct: "рдкреИрд░",
  },
  {
    question: "рд╣реНрдпреВрдорд░рд╕ рдХрд┐рд╕ рдЕрдВрдЧ рдореЗрдВ рд╣реЛрддреА рд╣реИ?",
    options: ["рдХрд╛рди", "рднреБрдЬрд╛", "рдкреИрд░", "рдЫрд╛рддреА"],
    correct: "рднреБрдЬрд╛",
  },
];

export default function App() {
  const [current, setCurrent] = useState(0);
  const [answers, setAnswers] = useState([]);
  const [completed, setCompleted] = useState(false);

  function handleAnswer(option) {
    const updated = [...answers];
    updated[current] = option;
    setAnswers(updated);

    nextQuestion();
  }

  function handleSkip() {
    const updated = [...answers];
    updated[current] = "Not Answered";
    setAnswers(updated);

    nextQuestion();
  }

  function nextQuestion() {
    if (current < questions.length - 1) {
      setCurrent(current + 1);
    } else {
      setCompleted(true);
    }
  }

  const score = answers.filter(
    (answer, index) => answer === questions[index].correct
  ).length;

  return (
    <div className="app-container">
      <main className="main">
        <div className="hero">
          <h1>рдорд╛рдирд╡ рдХрдВрдХрд╛рд▓ рддрдВрддреНрд░ (Human Skeleton) Test</h1>
        </div>

        <div className="card">
          {!completed ? (
            <div className="card-body">
              <div className="question-count">
                Question {current + 1} of {questions.length}
              </div>

              <h2 className="question">
                {questions[current].question}
              </h2>

              <div className="options">
                {questions[current].options.map((option) => (
                  <button
                    key={option}
                    onClick={() => handleAnswer(option)}
                    className="option-btn"
                  >
                    {option}
                  </button>
                ))}
              </div>

              <button onClick={handleSkip} className="skip-btn">
                Skip Question
              </button>
            </div>
          ) : (
            <div className="completed">
              <h2>Test Completed ЁЯОЙ</h2>

              <h3>
                Your Score: {score} / {questions.length}
              </h3>

              <hr />

              {questions.map((q, index) => (
                <div key={index} style={{ marginBottom: "15px" }}>
                  <p><strong>Q{index + 1}:</strong> {q.question}</p>
                  <p>
                    <strong>Your Answer:</strong>{" "}
                    {answers[index] || "Not Answered"}
                  </p>
                  <p>
                    <strong>Correct Answer:</strong> {q.correct}
                  </p>
                  <hr />
                </div>
              ))}
            </div>
          )}
        </div>
      </main>
    </div>
  );
}